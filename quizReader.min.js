function checkAudio(){return!!document.createElement("audio").canPlayType}var judgmentImg="",totalQues=0,quesNum=0,score=0,basePath="",scoringRangeSize=scoringRange.length,quizUrl=document.URL,quizTitle=document.title.split(" : ")[0];document.title=quizTitle;var hasAudio=checkAudio();"ontouchstart"in document.documentElement||(document.documentElement.className+=" no-touch"),jQuery(document).ready(function(e){function s(){var s="content";for(i=0;totalQues>i;i++){var r=e("#question"+i);if(imageNum=i,10>i&&(imageNum="0"+imageNum),n(r)){var a=r.children(".photos").attr("data");r.children(".photos").css("background-image","url("+a+")"),r.children(".photos").css("background-position","0px 4px"),r.children(".photos").css("background-repeat","no-repeat"),r.hasClass("multiphoto")&&r.find(".multiphoto .photos img").css({opacity:1})}if(o(r)&&(r.children(".sounds").hide(),hasAudio||e(".cover p").html('It looks like your browser doesn\'t support the sound effects used in this quiz. Please consider <a target="_blank" href="http://browsehappy.com/">upgrading your browser</a>.')),t(r)){$thePhoto=r.find(".photos img");var h=e("#question"+i).attr("xScrollFrom"),c=e("#question"+i).attr("yScrollFrom");if("undefined"!=typeof h){var d=parseInt(h);$thePhoto.css({left:d})}if("undefined"!=typeof c){var l=parseInt(c);$thePhoto.css({top:l})}}if(u(r)){r.show();var m=r.find(".photos img:first-child")[0].src.split(s).shift(),a=m+s+"/"+imageNum+"b-fade.jpg";r.children(".photos").css("background-image","url("+a+")"),r.children(".photos").css("background-position","0px 4px"),r.children(".photos").css("background-repeat","no-repeat"),r.hide()}}}function o(e){return e.hasClass("effect-sound")}function n(e){return e.hasClass("effect-dissolve")}function t(e){return e.hasClass("transition-scroll")}function u(e){return e.hasClass("transition-bg")}function r(){var s=e("#question"+quesNum);s.show();var n=s.hasClass("multiphoto"),t=s.hasClass("multichoice");if(n?(g(),a(),c()):t?(N(),h(),d()):("undefined"!=typeof randomTrueFalse&&N(),h(),d()),o(s)&&hasAudio){var i=s.find(".sounds .before");i.length&&i.get(0).play()}}function a(){e("#ques"+quesNum+"pho0").hover(function(){e("#ques"+quesNum+"ans0").parent().addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"ans0").parent().removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"pho1").hover(function(){e("#ques"+quesNum+"ans1").parent().addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"ans1").parent().removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"pho2").hover(function(){e("#ques"+quesNum+"ans2").parent().addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"ans2").parent().removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"pho3").hover(function(){e("#ques"+quesNum+"ans3").parent().addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"ans3").parent().removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"ans0").parent().hover(function(){e("#ques"+quesNum+"pho0").addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"pho0").removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"ans1").parent().hover(function(){e("#ques"+quesNum+"pho1").addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"pho1").removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"ans2").parent().hover(function(){e("#ques"+quesNum+"pho2").addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"pho2").removeClass("hover"),e(this).removeClass("hover")}),e("#ques"+quesNum+"ans3").parent().hover(function(){e("#ques"+quesNum+"pho3").addClass("hover"),e(this).addClass("hover")},function(){e("#ques"+quesNum+"pho3").removeClass("hover"),e(this).removeClass("hover")})}function h(){e("#ques"+quesNum+"ans0").parent().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}),e("#ques"+quesNum+"ans1").parent().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}),e("#ques"+quesNum+"ans2").parent().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}),e("#ques"+quesNum+"ans3").parent().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")})}function c(){e(".answerLine").click(function(){e("img").unbind(),e(".answerLine").unbind(),e("#question"+quesNum+" .photos img.wrong").css("opacity","0.3").removeClass("hover"),e("#question"+quesNum+" .photos img.correct").addClass("highlight");var s=e(this).children("input").attr("id").slice(-1);l(s)}),e(".photos img").click(function(){e("img").unbind(),e(".answerLine").unbind(),e("#question"+quesNum+" .photos img.wrong").css("opacity","0.3").removeClass("hover"),e("#question"+quesNum+" .photos img.correct").addClass("highlight");var s=e(this).attr("id").slice(-1);l(s)})}function d(){e(".answerLine").click(function(){e(".answerLine").unbind();var s=e(this).children("input").attr("id").slice(-1);l(s)})}function l(s){var i=e("#question"+quesNum);if(i.addClass("answered"),$thePhoto=i.find(".photos img"),e("input#ques"+quesNum+"ans"+s).parent().removeClass("hover"),e("input#ques"+quesNum+"ans"+s).parent().addClass("userAnswer"),i.find("input").attr("disabled","disabled"),i.find("input.correct").parent().addClass("correct"),i.find("input.wrong").parent().css("opacity","0.3"),i.children(".response").show(),n(i)&&$thePhoto.fadeOut(),t(i)){var u=$thePhoto.width(),r=$thePhoto.height(),a=i.attr("xScrollTo"),h=i.attr("yScrollTo");if("undefined"==typeof a)var c=-1*(u-600);else var c=parseInt(a);if("undefined"==typeof h)var d=-1*(r-358);else var d=parseInt(h);$thePhoto.animate({left:c,top:d},1500)}o(i)&&hasAudio&&i.find(".sounds audio.after").length&&i.find(".sounds audio.after").get(0).play(),e("input#ques"+quesNum+"ans"+s).hasClass("correct")?(i.find(".response .answeredCorrect").show(),score++):i.find(".response .answeredWrong").show(),quesNum===totalQues-1?p(s):m(s)}function m(s){var n=e("#question"+quesNum);e('<div id="continueButton">NEXT QUESTION <span class="arrow">&rarr;</span></div>').appendTo("#quiz"),e("#continueButton").click(function(){if(e("#continueButton").unbind().remove(),o(n)&&hasAudio){var t=n.find(".sounds audio.after");t.length&&t.get(0).pause()}v(s),n.hide(),quesNum++,r()})}function p(s){e('<div id="continueButton">SEE YOUR SCORE <span class="arrow">&rarr;</span></div>').appendTo("#quiz"),e("#continueButton").click(function(){e("#continueButton").unbind().remove(),v(s),e("#question"+quesNum).hide(),q()})}function v(s){e("#question"+quesNum).removeClass("answered"),e("input#ques"+quesNum+"ans"+s).parent().removeClass("userAnswer"),e("#question"+quesNum+" input").removeAttr("disabled"),e("#question"+quesNum+" input").attr("checked",!1),e("#question"+quesNum+" input.correct").parent().removeClass("correct"),e("#question"+quesNum+" input.wrong").parent().css("opacity",""),e("#question"+quesNum+" .photos img.wrong").css("opacity",""),e("#question"+quesNum+" .photos img.correct").removeClass("hover"),e("#question"+quesNum+" .response span").hide(),e("#question"+quesNum+" .response").hide(),e("#question"+quesNum+" .highlight").removeClass("highlight")}function q(){var s=encodeURIComponent(quizUrl),n=encodeURIComponent(quizTitle),t='<div class="facebookShare"><a href="https://www.facebook.com/sharer.php?u='+s+'" target="_blank">Share on Facebook!</a></div>',i='<div class="twitterShare"><a href="https://twitter.com/intent/tweet?source=tweetbutton&amp;text=I%20scored%20'+score+"%20out%20of%20"+totalQues+"%20on%20"+n+"!&amp;url="+s+'&amp;via=stltoday" target="_blank">Tweet your score!</a></div>';for(e("#quiz #scoring").show(),e('<div id="score">'+score+" out of "+totalQues+"</div>").insertBefore("#response"),e('<div class="quizShare">'+t+i+"</div>").insertBefore("#response"),o(e("#scoring"))&&hasAudio&&e("#scoring").find(".sounds .before").length&&e("#scoring").find(".sounds .before").get(0).play(),x=0;scoringRangeSize>x;x++){if(score>=scoringRange[x]){e('<div id="evaluation">'+scoringEvaluation[x]+"</div>").insertAfter("#score");break}if(x===scoringRangeSize-1&&score<scoringRange[x]){e('<div id="evaluation">'+scoringEvaluation[x]+"</div>").insertAfter("#score");break}}f()}function f(){e('<div id="continueButton">PLAY AGAIN <span class="arrow">&rarr;</span></div>').appendTo("#scoring"),e("#continueButton").css("position","relative").css("top","0px").css("left","0px"),e("#continueButton").click(function(){e("#continueButton").unbind().remove(),e("#score").remove(),e("#evaluation").remove(),e("#scoring").hide(),e(".quizShare").remove(),e(".questions .photos img").show(),s(),quesNum=0,score=0,r()})}function g(){var s=e("#question"+quesNum+" .photos").children("img").get(),o=e("#question"+quesNum+" .answers").children(".answerLine").get(),n=o.length,t=[];for(i=0;n>i;i++)t[i]=i;for(t.sort(function(){return Math.round(Math.random())-.5}),e("#question"+quesNum+" .photos").remove("img"),e("#question"+quesNum+" .answers").remove(".answerLine"),i=0;n>i;i++)e("#question"+quesNum+" .photos").append(s[t[i]]),e("#question"+quesNum+" .answers").append(o[t[i]])}function N(){var s=e("#question"+quesNum+" .answers").children(".answerLine").get();for(s.sort(function(){return Math.round(Math.random())-.5}),e("#question"+quesNum+" .answers").remove(".answerLine"),i=0;i<s.length;i++)e("#question"+quesNum+" .answers").append(s[i])}totalQues=e("#quiz .questions").length,e("#quiz .spinningWheel").remove(),e("#quiz .questions").hide(),e("#quiz #scoring").hide(),s(),e(".cover").length?e("#playButton").click(function(){e("#playButton").unbind("click").hide(),e(".cover").hide(),r()}):r()});